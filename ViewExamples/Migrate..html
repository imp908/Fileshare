@model TransactionSite_.Models.ServiceLayer
@using TransactionSite_.DAL
@using TransactionSite_.Models
@{var tablelists = Model.tableEnum;}

@{
    ViewBag.Title = "Migrate";
}

<h1>Migrate</h1>

<table>
    <tr>
        <th>
            @Html.DisplayNameFor(m => m.tableState.TableName)
        </th>
        <th>
            @Html.DisplayNameFor(m => m.tableState.DateFrom)
        </th>
        <th>
            @Html.DisplayNameFor(m => m.tableState.DateTo)
        </th>
        <th>
            @Html.DisplayNameFor(m => m.tableState.Status)
        </th>
    </tr>    
    @foreach (QueryState rs in Model.tableList){
        using (Html.BeginForm("Migrate", "Home", FormMethod.Post)){
        <tr>
            <td>
                @Html.HiddenFor(t => rs.ID, new { @Name="ID" })
            </td>
            <td>
                @Html.DisplayFor(t => rs.TableName, new { @Name = "TableName" })
            </td>
            <td>
                @Html.TextBoxFor(t => rs.DateFrom, new { @Name = "DateFrom" })
            </td>
            <td>
                @Html.TextBoxFor(t => rs.DateTo, new { @Name = "DateTo" })
            </td>
            <td>
                @Html.TextBoxFor(t => rs.Status, new { @Name = "Status" })
            </td>
            <td>
                <input type="submit" value="Update" name="action:Update" />
            </td>
            <td>
                <input type="submit" value="Stop" name="action:Stop" />
            </td>
        </tr>
        }
    }
      
</table>

<div>
    @Html.ActionLink("Back to Home page", "Index")
</div>